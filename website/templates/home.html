{% extends "base.html" %} {% block title %}Home{% endblock %}

{% block mycss%}

<link rel="stylesheet" href="{{ url_for('static', filename='css/general.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}"/>

{% endblock mycss%}

{% block content %} 
<h1> My Home Page </h1>

<div class="container-fluid">
    <div class="row">
        <div class="col-3" id="leftDiv">
            <body>
                <div id="profileTopLeft">
                   <div class="container-1">
                      <div class="pfp-container">
                        <img src={{user.image_file}}>
                      </div>
                   </div>
                   <div class="u-info">
                      <div>
                         <h4>{{ user.first_name }}</h4>
                      </div>
                      <div clas="stats">
                        <h6>Points: {{user.score}}</h6>
                      </div>
                      <div class="bio">
                         <p> 
                            The best text-based gamer on this platform #GAMERLYF
                         </p>
                      </div>
                      <div>
                         <a href="#" class="btn">Edit Profile <Picture></Picture></a>
                         <a href="#" class="btn">Edit Cover <Picture></Picture></a>
                      </div>
                   </div>
                </div>
             </body>
            <div>
                <iframe src="{{ url_for('auth.scoreboard')}}" title="Scoreboard" id="scoreboard-iframe"></iframe>
            </div>
            <div>
                <td>
                    <form action="{{ url_for('auth.add') }}" method="post">
                    <input type="hidden" name="add" value="{{ user.id }}"/>
                    <input type="submit" value="Score + 1"/>
                    </form>
                </td>
            </div>
        </div>

        <div class="col-6" id="contentDiv">
            <div class="headers">
                <h2>Game Rooms</h2>
            </div>
            <div>
                <div id="gameButtons">
                    <button class="gameLink" type="button">Wordle Lobbies</button>
                    <button class="gameLink" type="button">Hangman Lobbies</button>
                    <button class="gameLink" type="button">Another Game</button>
                </div>
                <div id="createGameDiv">
                    <!-- <a id="chatRoom" href="/chat_room" method="post">Chat Room</a> -->
                    <button id="createGame">Create Private Lobby +</button>
                </div>
            </div>
            <div class="headers">
                <h2>Public Chat Rooms</h2>
            </div>
            <form method="post" class="buttons" id="publicChats">
                <div>
                    <input type="text"  name="name" value="{{ user.first_name }}" hidden>
                </div>
                <div id="chatButtons">
                    <button type="submit" name="globalChat" class="chatLink">Global Chat</button>
                    <button type="submit" name="anonChat" class="chatLink">Anonmyous Chat</button>
                    <button type="submit" name="supportChat" class="chatLink">Support Chat</button>
                </div>
            </form>

            <hr>
            <div id="formTitle">
                <h4>Join or Create a Room</h4>
            </div>
            <form method="post" class="buttons">
                <!-- Below Code would allow users to change their name that shows in a chat when joining/Creating a chat, is hidden for now -->
                <div>
                    <input type="text"  name="name" value="{{ user.first_name }}" hidden>
                </div>
                <div class="join">
                    <!-- <label>Code:</label> -->
                    <div id="codeInput">
                        <input type="text" placeholder="Enter a Room Code" name="code" value="{{code}}">
                    </div>
                    <div id="join-and-create">
                        <Button type="submit" name="join" id="join-btn">Join a Room</Button>            
                        <Button type="submit" name="create" id="create-btn">Create New Room</Button>
                    </div>
                    <div id="feedback">
                        {% if error %}
                            <p>{{error}}</p>
                        {% endif %}
                    </div>        
                </div>
            </form>

        </div>
        <div class="col-3" id="chatSection">
            <iframe src="{{ url_for('auth.friends_list')}}" style="height:80%;width:100%" title="Friends List"></iframe>
        </div>        
    </div>
</div>

{% endblock %}